假设我们有一个 **周期性复指数序列**：
$x[n] = A e^{j \omega_0 n}$
这个序列要以 $N_p$ 为周期，必须满足 $\omega_0 N_p = 2\pi m$ （$m$ 为整数），即 $\omega_0 = \frac{2\pi m}{N_p}$。

我们计算它的 **M 点 DFT**，并且一个关键条件是 **DFT 长度 M 是序列周期 $N_p$ 的整数倍**，即 $M = r N_p$ ($r$ 为正整数)。
这意味着信号频率可以表示为 $\omega_0 = \frac{2\pi m}{N_p} = \frac{2\pi m r}{M} = \frac{2\pi m_0}{M}$，其中 $m_0 = mr$ 是一个整数。这说明信号的频率 $\omega_0$ **正好** 落在 DFT 的某个频率采样点上。

DFT 计算：
$X[k] = \sum_{n=0}^{M-1} x[n] e^{-j \frac{2\pi}{M} nk} = \sum_{n=0}^{M-1} (A e^{j \omega_0 n}) e^{-j \frac{2\pi}{M} nk}$
代入 $\omega_0 = \frac{2\pi m_0}{M}$：
$X[k] = A \sum_{n=0}^{M-1} e^{j \frac{2\pi m_0}{M} n} e^{-j \frac{2\pi k}{M} n} = A \sum_{n=0}^{M-1} e^{j \frac{2\pi (m_0 - k)}{M} n}$

这是一个等比数列求和 $\sum_{n=0}^{M-1} \alpha^n$ ，其中 $\alpha = e^{j \frac{2\pi (m_0 - k)}{M}}$。

**情况1：$k = m_0$**
当 DFT 索引 $k$ 等于信号频率对应的索引 $m_0$ 时：
$m_0 - k = 0$，所以 $\alpha = e^0 = 1$。
$X[m_0] = A \sum_{n=0}^{M-1} 1^n = A \sum_{n=0}^{M-1} 1 = A \cdot M$
这是一个非零值。

**情况2：$k \neq m_0$**
当 $k \neq m_0$ 时，$\alpha \neq 1$。使用等比数列求和公式：
$X[k] = A \frac{1 - \alpha^M}{1 - \alpha} = A \frac{1 - (e^{j \frac{2\pi (m_0 - k)}{M}})^M}{1 - e^{j \frac{2\pi (m_0 - k)}{M}}} = A \frac{1 - e^{j 2\pi (m_0 - k)}}{1 - e^{j \frac{2\pi (m_0 - k)}{M}}}$
因为 $m_0$ 和 $k$ 都是整数，$m_0 - k$ 也是整数。所以 $e^{j 2\pi (m_0 - k)} = \cos(2\pi(m_0-k)) + j\sin(2\pi(m_0-k)) = 1 + 0 = 1$。
因此，分子变成 $1 - 1 = 0$。
分母 $1 - e^{j \frac{2\pi (m_0 - k)}{M}}$ 不为零，因为 $k \neq m_0$ 且 $0 \le k, m_0 \le M-1$。
所以，当 $k \neq m_0$ 时，$X[k] = A \cdot \frac{0}{\text{非零值}} = 0$。

**结论1：只有一个非零值** ✅
在 $k = 0, 1, \dots, M-1$ 的区间内，周期复指数序列的 M 点 DFT (当 M 是周期的整数倍时) **只有一个非零值**，出现在 $k = m_0$ 处，其值为 $A \cdot M$。

---

**现在比较余弦/正弦序列：**

考虑 **周期余弦序列**（正弦类似）：
$x_{cos}[n] = A \cos(\omega_0 n) = A \frac{e^{j \omega_0 n} + e^{-j \omega_0 n}}{2}$
其中 $\omega_0 = \frac{2\pi m_0}{M}$ （$0 < m_0 < M/2$，假设 $m_0 \neq 0$ 且不是奈奎斯特频率）。

利用 DFT 的线性性质：
$X_{cos}[k] = \text{DFT}\{x_{cos}[n]\} = \frac{A}{2} \text{DFT}\{e^{j \omega_0 n}\} + \frac{A}{2} \text{DFT}\{e^{-j \omega_0 n}\}$

根据上面的分析：
*   $\text{DFT}\{e^{j \omega_0 n}\} = \text{DFT}\{e^{j \frac{2\pi m_0}{M} n}\}$ 只在 $k=m_0$ 处非零，值为 $M$。
*   $\text{DFT}\{e^{-j \omega_0 n}\} = \text{DFT}\{e^{j \frac{2\pi (-m_0)}{M} n}\} = \text{DFT}\{e^{j \frac{2\pi (M-m_0)}{M} n}\}$ （因为频率是模 $2\pi$ 或索引是模 $M$）。这一项只在 $k = M-m_0$ 处非零，值为 $M$。

所以，余弦序列的 DFT 有 **两个** 非零值：
*   $X_{cos}[m_0] = \frac{A}{2} \cdot M + \frac{A}{2} \cdot 0 = \frac{AM}{2}$
*   $X_{cos}[M-m_0] = \frac{A}{2} \cdot 0 + \frac{A}{2} \cdot M = \frac{AM}{2}$
*   其他 $k$ 值处，$X_{cos}[k] = 0$。

**结论2：幅度是余弦/正弦序列的2倍** ✅
复指数序列 $A e^{j \omega_0 n}$ 的 DFT 幅度是 $|X[m_0]| = |AM|$。
余弦序列 $A \cos(\omega_0 n)$ 的 DFT 在两个频率点 $m_0$ 和 $M-m_0$ 处有非零值，幅度都是 $|\frac{AM}{2}|$。
因此，$|AM| = 2 \times |\frac{AM}{2}|$。复指数序列的幅度确实是余弦（或正弦）序列 **每个** 峰值幅度的 2 倍。

---

**最后看频率和序号的关系：**

你给出的公式是 $k = \frac{N \omega_k}{2\pi}$。这里假设 $N$ 是 DFT 的点数 (我们上面用的是 $M$)。我们通常定义 DFT 的第 $k$ 个频率 **箱 (bin)** 对应的 **数字角频率** (rad/sample) 为：
$\omega_k = \frac{2\pi k}{N}$

这是一个定义式，表示了 DFT 索引 $k$ 和它所代表的离散频率 $\omega_k$ 之间的关系。这个公式可以简单地通过代数变形得到你给出的形式：
$\omega_k = \frac{2\pi k}{N} \implies N \omega_k = 2\pi k \implies k = \frac{N \omega_k}{2\pi}$

**结论3：信号频率对应的序号** ✅
这个公式 $k = \frac{N \omega_k}{2\pi}$ 是正确的，它只是 DFT 频率点定义的另一种写法。它表明，如果你知道一个信号分量的数字角频率 $\omega_k$ 正好是 DFT 的某个采样频率，那么你可以用这个公式反算出它对应的 DFT 索引 $k$。

**总结：**
当 DFT 长度 M 是周期复指数序列 $A e^{j \omega_0 n}$ 周期的整数倍时，其频率 $\omega_0$ 必然等于某个 DFT 频率点 $\omega_{m_0} = 2\pi m_0 / M$。此时，其 M 点 DFT 仅在 $k=m_0$ 处有值为 $AM$ 的非零谱线。而对应的余弦序列 $A \cos(\omega_0 n)$ 的 DFT 在 $k=m_0$ 和 $k=M-m_0$ 两处有值为 $AM/2$ 的非零谱线。因此，复指数序列的峰值幅度是余弦序列峰值幅度的两倍。公式 $k = \frac{N \omega_k}{2\pi}$ (N 为 DFT 点数) 描述了 DFT 索引和其对应数字频率的关系。